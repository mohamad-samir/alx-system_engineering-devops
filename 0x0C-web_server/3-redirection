#!/bin/bash

# Check if nginx is installed
if [ ! -x "$(command -v nginx)" ]; then
  echo "Nginx is not installed. Please install it first."
  exit 1
fi

# Define the path to the Nginx configuration file
nginx_config="/etc/nginx/sites-available/default"

# Define the location to redirect from
redirect_location="/redirect_me"

# Define the target URL for redirection
target_url="https://github.com/mohamad-samir"

# Use sed to replace the location block with a redirection block
sed -i "/location $redirect_location {/!b;n;c\\
    return 301 $target_url;
}" "$nginx_config"

# Reload Nginx to apply the changes
nginx -s reload

# Output a message indicating the configuration is complete
echo "Redirection configured successfully."
